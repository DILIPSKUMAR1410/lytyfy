<!DOCTYPE html>
<html>
<head>
	<title>Lytyfy | Power to Everyone Everywhere</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
	<link rel="icon" href="/bundles/fabric/images/favicon1.ico">
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
	<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
	<script src="/bundles/fabric/js/ng-route.js"></script>
	<script src="/bundles/fabric/js/jquery-2.1.1.min.js"></script>
	<script src="/bundles/fabric/js/jquery.als-1.7.min.js"></script>
	<script src="/bundles/fabric/js/sha512.js"></script>
	<script src="/bundles/fabric/js/app/portfolio/module/portfolio.js"></script>
	<script src="/bundles/fabric/js/app/portfolio/controller/portfolio.js"></script>
	<script src="/bundles/fabric/js/app/portfolio/controller/project.js"></script>
	<script src="/bundles/fabric/js/app/portfolio/controller/profile.js"></script>
	<link rel="stylesheet" type="text/css" href="/bundles/fabric/css/fabric_style.css">
	<link rel="stylesheet" type="text/css" href="/bundles/fabric/css/common.css">
	<link rel="stylesheet" href="/bundles/fabric/css/style.css"/>
	<link rel="stylesheet" href="/bundles/fabric/css/navigation.css"/>
	<link rel="stylesheet" href="/bundles/fabric/css/common.css"/>
	<link rel="stylesheet" href="/bundles/fabric/css/newhome.css"/>
	<link rel="stylesheet" href="/bundles/fabric/css/project.css"/>
	<style>
        .se-pre-con {
			position: fixed;
			left: 0px;
			top: 0px;
			width: 100%;
			height: 100%;
			z-index: 50;
			background: url(/bundles/fabric/images/ld.gif) center no-repeat #fff;
		}

		.se-pre-con-login {
			position: fixed;
			left: 0px;
			top: 0px;
			width: 100%;
			height: 100%;
			z-index: 9999;
			background: url(/bundles/fabric/images/ld.gif) center no-repeat #fff;
			opacity: 0.8;
		}
    </style>


</head>
<body ng-app="myApp">
<nav class="navbar navbar-default fixed-nav-bar">
	<div class="container-fluid no-right-padd">
		<!-- Brand and toggle get grouped for better mobile display -->
		<div class="navbar-header col-lg-4 col-md-4 col-sm-4">
			<button id="mob-profile-link" type="button" class="navbar-toggle collapsed no-rmargn" data-toggle="collapse"
					data-target="#nav-show-hide">
				<span class="sr-only">Toggle navigation</span>
				<span class="glyphicon glyphicon-chevron-down"></span>
				<!-- <span class="icon-bar"></span>
                <span class="icon-bar"></span> -->
			</button>
			<div id="mob-welcome-login" class="hidden-lg hidden-md hidden-sm col-xs-2 pull-right no-padd">
				<div class="pull-right text-right">
					{% if username is defined %}
						<div class="dropdown">
							<button id="profile" class="btn btn-default dropdown-toggle" type="button" id="menu1"
									data-toggle="dropdown">
								<span id="welcome-user">{{ username }}</span>
								<span id="nav-profile-span" class="glyphicon glyphicon-cog"></span></button>
							<ul class="dropdown-menu pull-right" role="menu" aria-labelledby="menu1" id="dash-link">
								<li role="presentation"><a role="menuitem" tabindex="-1" href="#/dashboard">Dashbord</a>
								</li>
								<li role="presentation"><a role="menuitem" tabindex="-1" href="#/setting">Setting</a>
								</li>
								<li role="presentation" class="divider"></li>
								<li role="presentation"><a role="menuitem" tabindex="-1" href="/logout">Logout</a></li>
							</ul>
						</div>
					{% else %}
						<button id="login-btn" class="nav-link btn btn-primary " data-toggle="modal"
								data-target="#myModal">
							LOGIN
						</button>
					{% endif %}
				</div>
			</div>
			<div class="container-fluid row col-lg-12 col-md-12 col-sm-12 col-xs-6">
				<!-- {# <a class="navbar-brand logo pull-left" href="#">lytyfy</a> #} -->
				<a href="/#/"><img class="menu-type img-responsive img-rounded"
								   ng-src="/bundles/fabric/images/lytyfy_logo2.png"
							></a>
			</div>
		</div>
		<div class="row collapse navbar-collapse col-lg-12 col-md-12 col-sm-10 col-xs-12" id="nav-show-hide">
			<ul class="nav navbar-nav text-center">
				<li data-toggle="collapse" data-target="#nav-show-hide"><a id="nav-home-link" href="#/"
																		   class="nav-link">HOME <span class="sr-only">(current)</span></a>
				</li>
				<li data-toggle="collapse" data-target="#nav-show-hide"><a id="nav-about-link" href="" class="nav-link">ABOUT</a>
				</li>
				<li data-toggle="collapse" data-target="#nav-show-hide"><a id="nav-how-it-works-link"
																		   href="#/how_it_works" class="nav-link">HOW IT
						WORKS</a></li>
				<li data-toggle="collapse" data-target="#nav-show-hide"><a id="nav-faqs-link" href="#/faqs"
																		   class="nav-link">FAQs</a></li>
			</ul>
		</div>
		<!-- /.navbar-collapse -->
		<div id="welcome-login" class="col-lg-3 col-md-2 col-sm-1 hidden-xs pull-right">
			<div class="pull-right text-right">
				{% if username is defined %}
					<div class="dropdown">
						<button id="profile" class="btn btn-default dropdown-toggle" type="button" id="menu1"
								data-toggle="dropdown">
							<span id="welcome-user">{{ username }}</span>
							<span id="nav-profile-span" class="glyphicon glyphicon-cog"></span></button>
						<ul class="dropdown-menu pull-right" role="menu" aria-labelledby="menu1" id="dash-link">
							<li role="presentation"><a role="menuitem" tabindex="-1" href="#/dashboard">Dashbord</a>
							</li>
							<li role="presentation"><a role="menuitem" tabindex="-1" href="#/setting">Setting</a></li>
							<li role="presentation" class="divider"></li>
							<li role="presentation"><a role="menuitem" tabindex="-1" href="/logout">Logout</a></li>
						</ul>
					</div>
				{% else %}
					<button id="login-btn" class="nav-link btn btn-primary " data-toggle="modal" data-target="#myModal">
						LOGIN
					</button>
				{% endif %}
			</div>
		</div>
	</div>
	<!-- /.container-fluid -->
</nav>
<div id="overlay"></div>
<div class="se-pre-con"></div>
<div>
	<div ng-view></div>
</div>
<div class="container">
	<div class="se-pre-con-login" style="display:none"></div>
	<div class="modal fade" id="myModal" role="dialog">
		<div class="modal-dialog">
			<div class="modal-content">
				<div id="signup" style="display:none">
					<!-- <div class="modal-header">
						<button type="button" class="close" data-dismiss="modal">&times;</button>
						<h4 class="modal-title text-center">Request an invitation</h4>
					</div> -->
					<div class="container-fluid">
						<button type="button" class="close" data-dismiss="modal">&times;</button>
						<form id="signup-form" role="form">
							<!-- <div class="form-group signup-link">
								<label for="signup-name">Name:</label>
								<input type="text" class="form-control" id="signup-name" name="signup-name"
									   placeholder="Name" required>
							</div> -->
							<div class="form-group">
								<label for="signup-email" style="visibility:hidden">Email:</label>
								<input type="email" class="form-control" id="signup-email" name="signup-email"
									   placeholder="Enter email" required>
							</div>
							<!-- <div class="form-group">
								<label for="signup-password">Password:</label>
								<input type="password" class="form-control" id="signup-password"
									   name="signup-password" placeholder="Enter password" required>
							</div> -->
							<!-- <div class="form-group signup-link">
								<label for="signup-confirm-password">Confirm Password:</label>
								<input type="password" class="form-control" id="signup-confirm-password"
									   name="signup-confirm-password" placeholder="Confirm Password" required>
							</div> -->
							<div class="text-center">
							<button id="signup-btn" class="btn btn-lg btn-primary" style="padding: 5px 16px;
    font-size: 14px;">Request</button></div>
						</form>
						<div id="signup-msg-container" class="error"><span id="signup-msg"></span></div>
						<div class="modal-footer">
							<a id="signin-link" class="pull-right">Already have account?</a>
						</div>
					</div>
				</div>
				<div id="signin">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal">&times;</button>
						<h4 class="modal-title">Please Sign-in</h4>
					</div>
					<div class="container-fluid">
						<form id='signin-form' role="form">
							<div class="form-group">
								<label for="signin-email">Email:</label>
								<input type="email" class="form-control" id="signin-email" name="signin-email"
									   placeholder="Enter email" required>
							</div>
							<div class="form-group">
								<label for="signin-password">Password:</label>
								<input type="password" class="form-control" id="signin-password" name="signin-password"
									   placeholder="Enter password" required>
							</div>
							<!-- <div class="checkbox">
								<label><input type="checkbox"> Remember me</label>
							</div> -->
							<button id="signin-btn" class="btn btn-lg btn-primary btn-block">Sign in</button>
						</form>
						<div id="signin-msg-container" class="error"><span id="signin-msg"></span></div>
						<div class="modal-footer">
							<a id="signup-link" class="go-to-link pull-left">Request Invitation</a>
							<a id="forgot-password-link" class="pull-right">Forgot Password</a>
						</div>
					</div>
				</div>
				<div id="forgot-password" style="display:none">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal">&times;</button>
						<h4 class="modal-title">Please Enter your Register email</h4>
					</div>
					<div class="container-fluid">
						<form role="form">
							<div class="form-group">
								<label for="signin-email">Email:</label>
								<input type="email" class="form-control" id="forgotpass-email" name="forgotpass-email"
									   placeholder="Enter email" required>
							</div>
							<button class="btn btn-lg btn-primary btn-block" type="submit">Submit</button>
						</form>
						<div class="modal-footer">
							<a><span id="forgot-password-signin-link" class="go-to-link">Go for Login</span></a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<div id="footer" class="container-fluid">
	<div id="social-icons-container">
		<ul id="social-icon-container">
			<li id="fb"><a href="https://www.facebook.com/pages/Deviab/1675668492652876?__mref=message_bubble"
						   target="_blank"><img src="/bundles/fabric/images/index/fb.png"></a></li>
			<li id="tw"><a href="https://twitter.com/@deviab_energy" target="_blank"><img
							src="/bundles/fabric/images/index/tw.png"></a></li>
			<li id="in"><a href="#"><img src="/bundles/fabric/images/index/in.png"></a></li>
		</ul>
	</div>
	<div id="footer-text">
		<div id="email">info@deviab.com</div>
		<div id="copy-right">Copyright &copy Deviab Research and Implementation Pvt Ltd 2015</div>
	</div>
</div>
</body>
<script type="text/javascript">
	$(window).load(function () {
		$(".se-pre-con").fadeOut("slow");
	});

	var nav_height = $("nav").height();
	$("#overlay").css("height", nav_height);


	$("#signup-link").click(function () {

		$("#signin").toggle();
		$("#signup").toggle();
		$("#forgot-passord").toggle();
	});
	$("#signin-link").click(function () {
		$("#signup").toggle();
		$("#signin").toggle();
		$("#forgot-passord").toggle();
	});
	$("#forgot-password-link").click(function () {
		$("#signin").toggle();
		$("#forgot-password").toggle();

	});
	$("#signup-forgot-passord-link").click(function () {
		$("#signin").toggle();
		$("#signup").toggle();
		$("#forgot-passord").toggle();
	});
	$("#forgot-password-signin-link").click(function () {
		$("#signin").toggle();
		$("#forgot-password").toggle();
	});

	$('#signin-btn').click(function () {
		$("#signin-msg").html('');
		var email = $("#signin-email").val();
		var password = $("#signin-password").val();
		if (email == "") {
			errorMessage = "Email Required";
			$("#signin-msg").html(errorMessage);
			return;
		}
		if (password == "") {
			errorMessage = "Password Required";
			$("#signin-msg").html(errorMessage);
			return;
		}
		$(".se-pre-con-login").show();
		var result = {};
		$.each($('#signin-form').serializeArray(), function (index, element) {
			result[element.name] = element.value;
		});
		jsonData = {
			email: result['signin-email'],
			password: result['signin-password']
		};
		console.log(jsonData);
		$.ajax({
			url: "/login",
			type: 'POST',
			data: jsonData,
			success: function (result) {
				$("#signin-msg").html("Successfully logged in... Redirecting to page...");
				$("#signin-msg").css("color", "#0070B9");
				location.reload();
				console.log('Logged In' + result);
			},
			error: function (errorMessage) {
				$("#signin-msg").html("Wrong email or password!");
				console.log(errorMessage);
				$(".se-pre-con-login").fadeOut("slow");
			},
		});
	});
	// $('#signup-btn').click(function () {
	// 	$("#signup-msg").html('');
	// 	var name = $("#signup-name").val();
	// 	var email = $("#signup-email").val();
	// 	var password = $("#signup-password").val();
	// 	var confirmPassword = $("#signup-confirm-password").val();
	// 	var errorMessage;

	// 	if (name == "") {
	// 		errorMessage = "Name Required.";
	// 		$("#signup-msg").html(errorMessage);
	// 		return;
	// 	}
	// 	if (email == "") {
	// 		errorMessage = "Email Required.";
	// 		$("#signup-msg").html(errorMessage);
	// 		return;
	// 	}
	// 	if (password == "") {
	// 		errorMessage = "Password Required.";
	// 		$("#signup-msg").html(errorMessage);
	// 		return;
	// 	}
	// 	if (confirmPassword == "") {
	// 		errorMessage = "Confirn Password Required.";
	// 		$("#signup-msg").html(errorMessage);
	// 		return;
	// 	}
	// 	if (confirmPassword != password) {
	// 		errorMessage = "Confirm Password should be same as password.";
	// 		$("#signup-msg").html(errorMessage);
	// 		return;
	// 	}

	// 	$(".se-pre-con-login").show();
	// 	var result = {};
	// 	$.each($('#signup-form').serializeArray(), function (index, element) {
	// 		result[element.name] = element.value;
	// 	});
	// 	jsonData = {
	// 		username: result['signup-name'],
	// 		email: result['signup-email'],
	// 		password: result['signup-password']
	// 	};
	// 	console.log(jsonData);
	// 	$.ajax({
	// 		url: "/signup",
	// 		type: 'POST',
	// 		data: jsonData,
	// 		success: function (result) {
	// 			console.log('Logged In' + result);
	// 			$("#signup-msg").html("Successfuly Sign-up wait...");
	// 			setTimeout(
	// 					function () {
	// 						$("#signin-msg").html("Please Login now...");
	// 						$("#signup-msg").html("");
	// 						$("#signup-name").val("");
	// 						$("#signup-email").val("");
	// 						$("#signup-password").val("");
	// 						$("#signup-confirm-password").val("");
	// 						$("#signin-link").trigger("click");
	// 						$(".se-pre-con-login").hide();
	// 					}, 2000);

	// 		},
	// 		error: function (errorMessage) {
	// 			$(".se-pre-con-login").hide();
	// 			$("#signup-msg").html("This Email is already Registered.");
	// 			console.log(errorMessage);
	// 		},
	// 	});
	// });
	$('#signup-btn').click(function () {

		var emailValue = $("#signup-email").val();
		if(emailValue == '') {
			$("#signup-msg").html("Email required!");
			return false;
		}
		$(".se-pre-con-login").show();
		jsonData = {
			"email":emailValue
		}
		
		$.ajax({
			url: "/invite",
			type: 'POST',
			// contentType: 'application/json',
			data: jsonData,
			success: function(result){
				console.log(result);
				$("#signup-msg").html(result.success);
				$("#signup-msg").css("color", "#0070B9");
				$("#signup-email").val("");
				$(".se-pre-con-login").hide();
	   		},
	   		error: function(errorMessage){
	   			$(".se-pre-con-login").hide();
	   			$("#signup-msg").html("Sorry, Please try again!");
	       		console.log(errorMessage);
	   		},
	   	});
	});
	$("#signup-name").click(function () {
		$("#signup-msg").html("");
	});
	$("#signup-email").click(function () {
		$("#signup-msg").html("");
	});
	$("#signup-password").click(function () {
		$("#signup-msg").html("");
	});
	$("#signup-confirm-password").click(function () {
		$("#signup-msg").html("");
	});
	$("#signin-email").click(function () {
		$("#signin-msg").html("");
	});
	$("#signin-password").click(function () {
		$("#signin-msg").html("");
	});
</script>
<script type="text/javascript">
	$(document).ready(function () {


	});
</script>
</html>